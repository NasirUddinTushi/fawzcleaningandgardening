{% load static %}

<!-- ðŸŒ Navbar -->
<nav id="navbar"
  class="fixed top-0 left-0 w-full z-[9999] bg-white/90 backdrop-blur-md shadow-sm border-b border-gray-100 transition-all duration-300 flex items-center">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
    <div class="flex justify-between items-center w-full">

      <!-- ðŸ”° Logo + Company Name -->
      <a href="{% url 'home' %}" class="flex items-center gap-3">
        {% if company and company.logo %}
        <img src="{{ company.logo.url }}" alt="Fawz Cleaning and Gardening Logo"
          class="h-12 w-auto object-contain" />
        {% else %}
        <img src="{% static 'assets/logo.png' %}" alt="Fawz Cleaning and Gardening Logo"
          class="h-12 w-auto object-contain" />
        {% endif %}
        <div class="flex flex-col justify-center space-y-[2px] sm:space-y-[3px]">
          <span class="text-[15px] sm:text-lg md:text-xl font-bold text-blue-700 leading-tight tracking-tight">
            Fawz Cleaning and Gardening
          </span>
          <span class="text-[10px] sm:text-xs md:text-sm text-gray-500 leading-snug">
          Cleaning â€¢ Gardening â€¢ Maintenance
          </span>
      </div>

      </a>

      <!-- ðŸ–¥ï¸ Desktop Menu -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="{% url 'home' %}"
          class="text-gray-700 hover:text-blue-600 transition font-medium {% if request.path == '/' %}text-blue-600 font-semibold{% endif %}">Home</a>
        <a href="{% url 'services' %}"
          class="text-gray-700 hover:text-blue-600 transition font-medium {% if request.path == '/services/' %}text-blue-600 font-semibold{% endif %}">Services</a>
        <a href="{% url 'about' %}"
          class="text-gray-700 hover:text-blue-600 transition font-medium {% if request.path == '/about/' %}text-blue-600 font-semibold{% endif %}">About</a>
        <a href="{% url 'contact' %}"
          class="text-gray-700 hover:text-blue-600 transition font-medium {% if request.path == '/contact/' %}text-blue-600 font-semibold{% endif %}">Contact</a>
        <a href="{% url 'career' %}"
          class="text-gray-700 hover:text-blue-600 transition font-medium {% if request.path == '/career/' %}text-blue-600 font-semibold{% endif %}">Careers</a>

        <!-- âœ¨ Get Quote Button -->
        <a href="/#quote"
          class="inline-flex items-center justify-center gap-2 px-5 py-2 font-semibold text-white rounded-full shadow-md transition-all duration-300 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 hover:-translate-y-[1px] hover:shadow-lg">
          <i class="fa-solid fa-paper-plane text-sm"></i>
          <span>Get Quote</span>
        </a>
      </div>

      <!-- ðŸ“± Mobile Menu Button -->
      <div class="md:hidden relative z-[10000]">
        <button id="menu-toggle"
          class="text-gray-700 hover:text-blue-600 focus:outline-none transition relative z-[10000]">
          <i class="fas fa-bars text-2xl"></i>
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- ðŸ“± Mobile Dropdown Menu -->
<div id="mobile-menu"
  class="hidden bg-white/95 backdrop-blur-md shadow-md md:hidden border-t border-gray-100 fixed left-0 w-full z-[9990] transform -translate-y-5 opacity-0 transition-all duration-300 ease-out">
  <a href="{% url 'home' %}"
    class="block py-2.5 px-4 text-gray-800 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 {% if request.path == '/' %}text-blue-700 font-semibold bg-blue-50{% endif %}">Home</a>
  <a href="{% url 'services' %}"
    class="block py-2.5 px-4 text-gray-800 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 {% if request.path == '/services/' %}text-blue-700 font-semibold bg-blue-50{% endif %}">Services</a>
  <a href="{% url 'about' %}"
    class="block py-2.5 px-4 text-gray-800 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 {% if request.path == '/about/' %}text-blue-700 font-semibold bg-blue-50{% endif %}">About</a>
  <a href="{% url 'contact' %}"
    class="block py-2.5 px-4 text-gray-800 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 {% if request.path == '/contact/' %}text-blue-700 font-semibold bg-blue-50{% endif %}">Contact</a>
  <a href="{% url 'career' %}"
    class="block py-2.5 px-4 text-gray-800 hover:bg-blue-50 hover:text-blue-700 transition-all duration-200 {% if request.path == '/career/' %}text-blue-700 font-semibold bg-blue-50{% endif %}">Careers</a>

  <!-- ðŸ“± Get Quote Button -->
  <a href="/#quote"
    class="block text-center bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white font-semibold py-3 mt-2 mb-8 mx-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg">
    <i class="fa-solid fa-paper-plane mr-2"></i> Get Quote
  </a>
</div>

<!-- âœ… JS for Toggle + Animation -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const menuToggle = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");

    menuToggle.addEventListener("click", () => {
      const isHidden = mobileMenu.classList.contains("hidden");

      if (isHidden) {
        mobileMenu.classList.remove("hidden");
        setTimeout(() => {
          mobileMenu.classList.remove("-translate-y-5", "opacity-0");
          mobileMenu.classList.add("translate-y-0", "opacity-100");
        }, 10);
        document.body.classList.add("overflow-hidden");
      } else {
        mobileMenu.classList.add("-translate-y-5", "opacity-0");
        setTimeout(() => {
          mobileMenu.classList.add("hidden");
        }, 300);
        document.body.classList.remove("overflow-hidden");
      }
    });

    mobileMenu.querySelectorAll("a").forEach(link => {
      link.addEventListener("click", () => {
        mobileMenu.classList.add("hidden");
        document.body.classList.remove("overflow-hidden");
      });
    });
  });
</script>
